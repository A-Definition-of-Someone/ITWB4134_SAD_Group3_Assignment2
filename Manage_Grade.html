<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Manage Grade</title>
  <link rel="stylesheet" href="CommonVariables.css">
  <link rel="stylesheet" href="Menu.css">
  <style>
    form {
      display: grid;
      height: 90.7408dvh;
      width: inherit;
    }

    form fieldset {
      display: grid;
      height: auto;
      background-color: var(--LightGray);
      place-self: center center;
      row-gap: 4dvh;
      border: var(--BorderLighterLightGray);
      border-radius: 25px;
      padding: 3dvh 2dvw 2dvh 2dvw;
    }

    fieldset legend {
      background-color: black;
      border: var(--BorderWhite);
      color: white;
      text-align: center;
      font-family: var(--FontFamily);
      font-size: var(--Header50PXApproximate);
      padding: 1dvh 2dvw;
    }

     .inputRow {
     display: flex;
     align-items: center;
     gap: 1dvw;
     margin-bottom: 2dvh;
   }
    

    label {
      font-size: var(--Header40Approximate);
      color: white;
    }

    #AddGradeNameRow {
      display: grid;
      grid-auto-flow: column;
      grid-auto-columns: min-content;
      column-gap: 1dvw;
    }

    .addGradeNameInput {
      display: grid;
      height: 7.4074dvh;
      width: 20dvw;
      padding: 12px 20px;
      border: none;
      border-radius: 10px;
      font-size: var(--Header40Approximate);
    }

    .functionButton {
      display: grid;
      height: 7.4074dvh;
      width: 6dvw;
      background-color: white;
      border: none;
      border-radius: 4px;
      place-content: center;
      text-align: center;
      color: var(--DarkGreen);
      font-family: var(--FontFamily);
      font-size: var(--Header60PXApproximate);
      font-weight: bold;
      cursor: pointer;
    }

      .addButton {
	  background-color: white;
	 }
	 
	 .addButton:hover {
      background-color: var(--LightGreen);
      color: white;
     }
	 
	 .submitButton {
	
	 }
	 
	 .submitButton:hover {
      background-color: var(--LightGreen);
      color: white;
     }
	 .deleteButton {
	 
	 }
	 
	  .deleteButton:hover {
      background-color: var(--Red);
      color: white;
     }
    .added-grade {
      background-color: white;
      padding: 10px;
      border-radius: 5px;
      font-family: var(--FontFamily);
      font-size: var(--Header40Approximate);
    }

  </style>
</head>
<body>
  <!-- Navigation bar -->
  <div id="Navbar">
    <div id="LinkContainer">
      <a href="Register_employee.html">Register Employee</a>
      <a href="Manage_grade.html">Manage grade</a>
      <a href="Manage_leave_type.html">Manage leave type</a>
      <a href="Manage_employee_leave.html">Manage employee leave</a>
    </div>
    <!-- Log out button -->
    <div id="LogOut">
      <a href="Log out.php">Log out</a>
    </div>
  </div>

  <!-- Form for grade management -->
  <form action="/leave_manage.php" method="post">
    <fieldset>
      <legend>Manage Grade</legend>

      <!-- Where new grade inputs will appear -->
      <div class="inputRow" id="inputRow">
        <!-- Dynamic entries will be appended here -->
      </div>

      <!-- Input and Button to add grade -->
      <div id="AddGradeNameRow">
        <input type="text" id="AddGradeName" name="grade_name" class="addGradeNameInput" placeholder="Enter Grade Name">
        <button type="button" class="functionButton addButton" onclick="addGrade()">+</button>
      </div>
    </fieldset>
  </form>


<script>
function addGrade() {
  const gradeInput = document.getElementById('AddGradeName');
  const gradeName = gradeInput.value.trim();

  if (gradeName === "") {
    alert("Please enter a grade name.");
    return;
  }

  // Create wrapper div
  const wrapper = document.createElement('div');
  wrapper.className = 'inputRow';

  // Create readonly input
  const input = document.createElement('input');
  input.value = gradeName;
  input.readOnly = true;
  input.className = 'addGradeNameInput';

    // Create delete button
  const del = document.createElement('button');
  del.textContent = 'Delete';
  del.className = 'functionButton deleteButton';
  del.onclick = () => wrapper.remove();


  
  // Create submit button
  const submit = document.createElement('button');
  submit.textContent = 'Submit';
  submit.className = 'functionButton submitButton';
  submit.onclick = () => {
    const form = document.createElement('form');
    form.method = 'POST';
    form.action = 'submit_grade.php';


    const hidden = document.createElement('input');
    hidden.type = 'hidden';
    hidden.name = 'grade';
    hidden.value = input.value;

    form.appendChild(hidden);
    document.body.appendChild(form);
    form.submit();
  };

  // Append everything to wrapper
  wrapper.append(input, del, submit);

  // Add to the page
  document.getElementById('inputRow').appendChild(wrapper);

  // Clear input field
  gradeInput.value = '';
}
</script>





</body>
</html>
